+++
title = "Static Compression"
template = "docs"
+++

Revela can pre-compress your static files with **Gzip** and **Brotli** for faster loading on any hosting platform. This is especially useful for hosts that don't compress files on-the-fly.

<div class="features-grid">

### ğŸ“¦ Pre-Generated

Compressed files created at build time, not on every request.

### ğŸš€ 95% Smaller

HTML, CSS, and JS files compress dramatically with Brotli.

### âœ… Zero Config

Works automatically with GitHub Pages, Netlify, Cloudflare, and more.

</div>

## Installation

```bash
revela plugin install Compress
```

## Usage

### Compress Your Site

```bash
# After generating your site
revela generate compress

# Or include in full pipeline
revela generate all
```

### Remove Compressed Files

```bash
revela clean compress
```

## What Gets Compressed?

| File Type | Typical Savings |
|-----------|-----------------|
| HTML | 70-85% |
| CSS | 75-90% |
| JavaScript | 65-80% |
| JSON | 70-85% |
| SVG | 50-70% |
| XML | 70-85% |

**Images are skipped** â€“ they're already optimized (AVIF, WebP, JPG).

## Output Structure

Your files remain unchanged. Compressed versions are added alongside:

```
output/
â”œâ”€â”€ index.html          â† Original (10 KB)
â”œâ”€â”€ index.html.gz       â† Gzip (2.5 KB)
â”œâ”€â”€ index.html.br       â† Brotli (2.1 KB)
â”œâ”€â”€ _assets/
â”‚   â”œâ”€â”€ main.css
â”‚   â”œâ”€â”€ main.css.gz
â”‚   â””â”€â”€ main.css.br
```

## Example Output

```
â•­â”€Successâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ Compression complete!              â”‚
â”‚                                    â”‚
â”‚ Summary:                           â”‚
â”‚   Files:    14                     â”‚
â”‚   Original: 1.22 MB                â”‚
â”‚                                    â”‚
â”‚ Compressed sizes:                  â”‚
â”‚   Gzip:    93.4 KB (92.5% savings) â”‚
â”‚   Brotli:  61.6 KB (95.1% savings) â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
```

## Hosting Compatibility

| Platform | Serves Pre-Compressed? |
|----------|------------------------|
| GitHub Pages | âœ… Automatic |
| Netlify | âœ… Automatic |
| Cloudflare Pages | âœ… Automatic |
| Vercel | âœ… Automatic |
| AWS S3 + CloudFront | âœ… Automatic |
| nginx | âœ… With `gzip_static on` |
| Apache | âš™ï¸ Needs RewriteRule |

## Pipeline Order

Compression runs **last** in the generate pipeline:

```
scan â†’ statistics â†’ pages â†’ images â†’ compress
```

This ensures all content exists before compressing.

## Compression Settings

The plugin uses **maximum compression** for smallest files:

| Format | Level | Browser Support |
|--------|-------|-----------------|
| Gzip | 9 (max) | All browsers |
| Brotli | 11 (max) | Modern browsers (95%+) |

Files under **256 bytes** are skipped â€“ compression overhead exceeds savings.
